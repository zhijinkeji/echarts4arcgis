// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/map/mobile/MobilePanUtil","dojo/on dojo/dom-class dojo/dom-construct esri/dijit/geoenrichment/utils/DeviceUtil esri/dijit/geoenrichment/utils/TooltipUtil dojo/i18n!esri/nls/jsapi".split(" "),function(h,f,l,m,k,g){var b={};g=g.geoenrichment.dijit.ReportPlayer.ReportPlayer;var e={_tooltips:[],_canShowTooltip:!0,tryShowTooltip:function(a){this._canShowTooltip&&(a=k.showClosableTooltip({node:a,message:g.mapLockTooltip,position:"left",onClosed:function(){e.userDismissedTooltip()}}),
this._tooltips.push(a))},userDismissedTooltip:function(){this._canShowTooltip=!1;this._tooltips.forEach(function(a){k.removeClosableTooltip(a)});this._tooltips.length=0}};b.setUpMapPan=function(a,g){if(a.root){var c=!0,d;h(a.root,"touchstart",function(b){if(c){var e=b.clientX,f=b.clientY;d=h(a.root,"touchmove",function(a){var b=a.clientX;a=a.clientY;g(e-b,f-a);e=b;f=a});h.once(a.root,"touchend, touchcancel",function(a){d.remove()})}});b._createLockButton(a.root,function(b){(c=b)?a.disableMapNavigation():
a.enableMapNavigation()})}};b._createLockButton=function(a,b){var c=!0,d=l.create("div",{"class":"mapNavigationLockButton locked"},a);e.tryShowTooltip(d);h(d,m.click,function(){e.userDismissedTooltip();c=!c;f.remove(d,"locked unlocked");f.add(d,c?"locked":"unlocked");b(c)})};return b});