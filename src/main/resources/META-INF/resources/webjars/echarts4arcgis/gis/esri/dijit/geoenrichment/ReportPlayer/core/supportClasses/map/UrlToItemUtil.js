// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/map/UrlToItemUtil",["dojo/string","dojo/i18n!esri/nls/jsapi"],function(g,d){d=d.geoenrichment.dijit.UrlToItemUtil;var f={},h=/\.(kml|kmz)$/i,k=/\.(csv)$/i;f.tryCreateItemFromServerUrl=function(b){function c(a){return b.substr(0,b.lastIndexOf(a)+a.length)}function f(a){return(a=b.match("(.*"+a+")(/?)(\\d*)(.*)","i"))?a[3]?a[1]+a[2]+a[3]:a[1]:null}function e(b){var c=a.url.split("/"),c=c[c.length-2];a.title=c?g.substitute(b,{title:c}):
d.featureLayer}if(!b)return null;var a;-1!==b.indexOf("FeatureServer")?(a={url:f("FeatureServer")||c("FeatureServer"),type:"Feature Service",typeKeywords:["Feature Service"]},e(d.featureServicePattern)):-1!==b.indexOf("MapServer")?(a={url:f("MapServer")||c("MapServer"),type:"Map Service",typeKeywords:["Map Service"]},e(d.mapServicePattern)):-1!==b.indexOf("ImageServer")?(a={url:c("ImageServer"),type:"Image Service",typeKeywords:["Image Service"]},e(d.imageServicePattern)):-1!==b.indexOf("VectorTileServer")?
(a={url:c("VectorTileServer"),type:"Vector Tile Service",typeKeywords:["Vector Tile Service"]},e(d.vectorTileServicePattern)):-1!==b.indexOf("WMSServer")?(a={url:c("WMSServer"),type:"WMS",typeKeywords:["WMS"]},e(d.wmsServicePattern)):-1!==b.indexOf("wmts")?(a={url:c("wmts"),type:"WMTS",typeKeywords:["WMTS"]},e(d.wmtsServicePattern)):-1!==b.indexOf("wfs")?(a={url:c("wfs"),type:"WFS",typeKeywords:["WFS"]},e(d.wfsServicePattern)):h.test(b)?a={url:b,type:"KML",typeKeywords:["KML"],title:g.substitute(d.kmlPattern,
{title:b.substr(b.lastIndexOf("/")+1).replace(h,"")})}:k.test(b)&&(a={url:b,type:"CSV",typeKeywords:["CSV"],title:g.substitute(d.csvPattern,{title:b.substr(b.lastIndexOf("/")+1).replace(k,"")})});a&&(a.id=a.url,a.name=a.title);return a};return f});