// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/tooltips/ZoomSupportTooltip","dojo/_base/declare dojox/charting/action2d/Tooltip dojox/lang/functional dojox/gfx/matrix esri/dijit/geoenrichment/utils/DeviceUtil esri/dijit/geoenrichment/utils/TooltipUtil".split(" "),function(h,k,e,l,m,n){var f=Math.PI/4,p=Math.PI/2,g={_tooltips:[],show:function(a,d,c,b){this.hide();this._tooltips.push(n.showTooltipForNode(c,a,{position:d,notRestricted:!0,classes:b&&[b]}))},hide:function(){this._tooltips.forEach(function(a){a&&
a.destroy()});this._tooltips.length=0}};return h(k,{tooltipClass:null,process:function(a){if("onplotreset"===a.type||"onmouseout"===a.type)g.hide(),"onplotreset"===a.type&&delete this.angles;else if(a.shape&&"onmouseover"===a.type){var d=["after-centered","before-centered"];if(!this._needSetRectFromShape())switch(a.element){case "marker":case "circle":case "spider_circle":case "spider_plot":case "candlestick":break;case "column":d=["above-centered","below-centered","after-centered","before-centered"];
case "bar":break;default:if(!this.angles){var c="number"===typeof a.run.data[0]?e.map(a.run.data,"x ? Math.max(x, 0) : 0"):e.map(a.run.data,"x ? Math.max(x.y, 0) : 0");this.angles=e.map(e.scanl(c,"+",0),"* 2 * Math.PI / this",e.foldl(c,"+",0))}var c=l._degToRad(a.plot.opt.startAngle),b=(this.angles[a.index]+this.angles[a.index+1])/2+c;c&&(0>b||b>2*Math.PI)&&(b=Math.abs(2*Math.PI-Math.abs(b)));b<f||(b<p+f?d=["below-centered","above-centered"]:b<Math.PI+f?d=["before-centered","after-centered"]:b<2*
Math.PI-f&&(d=["above-centered","below-centered"]))}m.isMobileDevice()&&(d=["above-centered","below-centered"]);(c=this.text(a,this.plot))&&g.show(this._format(c),d,a.shape.rawNode,this.tooltipClass)}},_needSetRectFromShape:function(){return!1}})});