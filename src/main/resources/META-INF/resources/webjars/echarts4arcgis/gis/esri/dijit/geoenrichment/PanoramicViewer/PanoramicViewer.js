// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/PanoramicViewer/PanoramicViewer",["require","dojo/on","dojo/dom-construct","./esriPhotoViewer","dojo/i18n!esri/nls/jsapi"],function(l,q,m,n,f){f=f.geoenrichment.dijit.ReportPlayer.PanoramicViewer;var c={};try{if(window.location!==window.parent.location)for(var r=document.getElementsByTagName("head")[0],b=parent.document.getElementsByTagName("style"),e=0;e<b.length;e++)r.appendChild(b[e].cloneNode(!0))}catch(t){console.log("Failed to initialize environment for panoramic viewer.")}c.showViewer=
function(e,g,c){function b(){m.destroy(h);d&&d.remove();d=null;c.onClose&&c.onClose()}if(e){var h,p=[],k=0;g.forEach(function(a,c){k=a===e?c:k;var b="undefined"!==typeof a.url&&a.url?!0:!1,d=a.thumbnail||a.getThumbnail&&a.getThumbnail();a=new n.Image({filename:a.filename||"",imageType:a.imageViewType,url:b?a.url:a.getUrl(),caption:a.description,thumbnail:b?a.url:d&&0===d.indexOf("data:")?d:null,attachmentId:c,externalImage:b});p.push(a)});g={callbacks:{onCloseCallback:b},allowFullScreen:!0,showCarousel:!0,
showCaptions:!0,showArrowPagination:!0};h=m.create("div",{"class":"esriGEAbsoluteStretched esriGEPanoramicViewerContainer"},document.body);var d=q(document.body,"keydown",function(a){d&&27===a.keyCode&&b()});new n({container:h,images:p,selectedIndex:k,options:g,urlThree:l.toUrl("./esripv_three.js"),urlPanolens:l.toUrl("./esripv_lens.js"),nls:f})}};return c});